# 第六周总结

## 左氏堆

1、本质：二叉树

2、特点：不平衡的二叉树

3、性质：

路径长度：该路径上起始节点到终点节点的边数。

零路径长：任意节点X的零路径长为从X到一个没有两个儿子节点的最短路径的长度。

（1）对于堆中的每一个节点X，左儿子的零路径长度至少与右儿子的零路径长一样大。

（2）具有0个或1个儿子的节点的零路径长为0.

（3）任意节点的零路径长比它的诸儿子节点的零路径长度的最小值多1。即左氏堆中任意一个节点的零路径长度比其右子树的零路径长度多1。

（4）堆序性：每棵树中，根节点的值小于其子树中所有节点的值。

定理：在右路径上有r个节点的左氏树必然至少有一个2的r次方减1个节点。

4、操作：

（1）合并操作

原则：

①如果要合并的两个堆中有一个堆是空的，则合并两个堆的结果是另一个堆；

②如果要归并的两个堆都不为空，则递归地将具有较大根植的堆与具有较小根植的右子堆合并，得到两个堆的合并结果。（根节点？）

③如果得到的堆不是左氏堆，则交换根节点的左子树和右子树，并更新零路径长(新的零路径长为新的右儿子的零路径长加1）

（2）插入操作：执行一个节点与左氏堆的归并操作

（3）删除操作：先删除节点，再合并原左氏堆的 左子堆和右子堆

5、问题：为什么归并时选择归并一个堆与另一个堆的右子堆，而不是左子堆

## 斜堆

1、本质：具有堆序性的二叉树

2、特点：

不同于左氏堆之处：斜堆的右路径在任何时刻都可以任意长。

3、基本操作：合并

（1）如果一个空斜堆与一个非空斜堆合并，返回非空斜堆

（2）如果两个斜堆都非空，那么比较两个斜堆的根节点，取较小斜堆的根节点为新的根节点，将较小堆的根节点的右孩子和较大斜堆进行合并

（3）合并后，交换新堆根节点的左孩子和右孩子（不同于左氏堆，斜堆的交换是无条件的，左氏堆的交换发生在右子堆的零路径长度大于左子堆时）

## 二项队列

1、本质：森林（堆序树的集合）

2、结构特点：堆序树中的每一棵树都是二项树，且每个高度上至多只存在一棵二项树（即二项队列中不存在高度相同的树）。

二项树（每棵二项树的节点数量是2的幂次）：

（1）高度为0的二项树是一棵单节点树；

（2）高度为k的二项树Bk通过将一棵二项树B(k-1)附接到另一棵二项树B(k-1)的根上而构成

3、性质：

（1）堆序性：每棵二项树的根节点的值小于其左右子树中所有节点的值；

4、操作：

合并操作的原则：

（1）两个队列若只存在一个高度k的二项树，保留；

（2）两个队列若存在两个高度k相同的二项树，则让根节点值较小的二项树的根节点作为合并后的二项树的根节点，让根节点大的二项树成为根节点较小的二项树的子树，得到一个高度加1的二项树；

（3）两个队列若只存在三个高度k的二项树，选择一个保留，剩下两个相合并；

插入操作：创建一棵单节点树与原二项队列合并

删除最小元操作：

（1）找出一棵具有最小根的二项树并记为Bk

（2） 从原二项队列中删除具有最小根的二项树的根节点，该二项树Bk中的其他节点构成一个新的二项队列

（3）从原二项队列中删除具有最小根的二项树，得到一个新的二项队列

（4）将两个新的二项队列合并

5、实现：用数组实现二项队列的存储，数组下标为二项树的高度，数组中存储指向每个高度对应的树的根节点的指针，然后每个树的存储用链表实现，每个节点都有一个指向它的第一个儿子的指针，还有一个指向其兄弟的指针。

